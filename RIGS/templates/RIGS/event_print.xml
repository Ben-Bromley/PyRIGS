<?xml version="1.0" encoding="UTF-8" ?>
{% load multiply from filters %}
<!DOCTYPE document SYSTEM "rml.dtd">

<document filename="Event {{ object.id }} - {{ object.name }} - {{ object.start_date }}.pdf">
    <docinit>
        <registerTTFont faceName="OpenSans" fileName="{{ fonts.opensans.regular }}"/>
        <registerTTFont faceName="OpenSans-Bold" fileName="{{ fonts.opensans.bold }}"/>
        <registerFontFamily name="OpenSans" bold="OpenSans-Bold" boldItalic="OpenSans-BoldItalic"/>
    </docinit>

    <stylesheet>
        <initialize>
            <color id="LightGray" RGB="#D3D3D3"/>
        </initialize>

        <paraStyle name="style.para" fontName="OpenSans"/>
        <paraStyle name="blockPara" spaceAfter="5" spaceBefore="5"/>
        <paraStyle name="style.Heading1" fontName="OpenSans" fontSize="14" leading="10" spaceAfter="10"/>
        <paraStyle name="style.Heading2" fontName="OpenSans-Bold" fontSize="12" spaceAfter="5"/>
        <paraStyle name="style.Heading3" fontName="OpenSans" fontSize="11" spaceAfter="5"/>
        <paraStyle name="center" alignment="center"/>

        <blockTableStyle id="headerTable">
            <blockFont name="OpenSans-Bold"/>
            <blockAlignment value="left"/>
            <blockLeftPadding start="0,0" stop="0,0" length="0"/>
            <blockBackground start="1,0" stop="1,0" colorName="LightGray"/>
            <blockBackground start="3,0" stop="3,0" colorName="LightGray"/>
            <lineStyle kind="box" start="1,0" stop="1,0" colorName="black"/>
            <lineStyle kind="box" start="3,0" stop="3,0" colorName="black"/>
        </blockTableStyle>

        <blockTableStyle id="eventDetails">
            <blockValign value="top"/>
        </blockTableStyle>

        <blockTableStyle id="itemTable">
            <blockValign value="top"/>
            <lineStyle kind="grid" colorName="black" thickness="1" start="0,0" stop="-1,-1"/>
        </blockTableStyle>

        <blockTableStyle id="totalTable">
            <blockLeftPadding start="0,0" stop="0,-1" length="0"/>
            <lineStyle cap="default" kind="grid" colorName="black" thickness="1" start="1,0" stop="-1,-1"/>
        </blockTableStyle>

        <blockTableStyle id="infoTable" keepWithNext="true">
            <blockLeftPadding start="0,0" stop="-1,-1" length="0"/>
        </blockTableStyle>

        <blockTableStyle id="paymentTable">
            <blockBackground colorName="LightGray" start="0,1" stop="3,1"/>
            <blockFont name="OpenSans-Bold" start="0,1" stop="0,1"/>
            <blockFont name="OpenSans-Bold" start="2,1" stop="2,1"/>
            <lineStyle kind="outline" colorName="black" thickness="1" start="0,1" stop="3,1"/>
        </blockTableStyle>

        <blockTableStyle id="signatureTable">
            <blockTopPadding length="20" />
            <blockLeftPadding start="0,0" stop="0,-1" length="0"/>
            <lineStyle kind="linebelow" start="1,0" stop="1,0" colorName="black"/>
            <lineStyle kind="linebelow" start="3,0" stop="3,0" colorName="black"/>
            <lineStyle kind="linebelow" start="5,0" stop="5,0" colorName="black"/>
        </blockTableStyle>
    </stylesheet>

    <template> {# Note: page is 595x842 points (1 point=1/72in) #}
            <pageTemplate id="Headed">
                <pageGraphics>
                    <image file="RIGS/static/imgs/paperwork/corner.jpg" x="395" y="642" height="200" width="200"/>

                    {# logo positioned 42 from left, 33 from top #}
                    <image file="RIGS/static/imgs/paperwork/tec-logo.jpg" x="42" y="719" height="90" width="84"/>
                    
                    <setFont name="OpenSans-Bold" size="22.5" leading="10"/>
                    <drawString x="137" y="780">TEC PA &amp; Lighting</drawString>

                    <setFont name="OpenSans" size="9"/>
                    <drawString x="137" y="760">Portland Building, University Park, Nottingham, NG7 2RD</drawString>
                    <drawString x="137" y="746">Phone: (0115) 846 8720</drawString>
                    <drawString x="137" y="732">www.nottinghamtec.co.uk</drawString>
                    <drawString x="265" y="732">info@nottinghamtec.co.uk</drawString>

                    

                    <setFont name="OpenSans" size="10"/>
                    <drawCenteredString x="302.5" y="50">[{{ copy }} Copy]</drawCenteredString>
                </pageGraphics>
                <frame id="jobDetails" x1="50" y1="682" width="495" height="20"/>
                <frame id="client" x1="50" y1="560" width="150" height="120" topPadding="5"
                       rightPadding="5" bottomPadding="5" leftPadding="5"/>
                <frame id="venue" x1="221" y1="560" width="150" height="120" topPadding="5"
                       rightPadding="5" bottomPadding="5" leftPadding="5"/>
                <frame id="event" x1="395" y1="560" width="150" height="120" topPadding="5"
                       rightPadding="5" bottomPadding="5" leftPadding="5"/>
                <frame id="main" x1="50" y1="65" width="495" height="502"/>
            </pageTemplate>

            <pageTemplate id="Main">
                <pageGraphics>
                    <setFont name="OpenSans" size="10"/>
                    <drawCenteredString x="302.5" y="50">[{{ copy }} Copy]</drawCenteredString>
                </pageGraphics>
                <frame id="main" x1="50" y1="65" width="495" height="727"/>
            </pageTemplate>
    </template>

    <story firstPageTemplate="Headed">
            {% include "RIGS/event_print_page.xml" %}
    </story>

</document>